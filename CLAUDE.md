# Project Overview

Modern web application with FastAPI backend and [React/Vue/Svelte] frontend.

- In all interactions and commit messages, be extremely concise and sacrifice grammer for the sake of concision.

**IMPORTANT ALWAYS USE THE /WIREFRAMES DIRECTORY TO GUIDE THE UI BUILD THE BEIGE THEME LOOK AT THESE AND THE PAGES DESIGNED AND ONLY IMPLEMENT THIS UNLESS TOLD OTHERWISE**

**USE THE API_SPEC_FOR_UI FILE FOR FUNCTIONALITY AND THE FASTAPI DOCS ENDPOINT FOR THE BACKEND IF NEEDED.**

**UI DEV WORK NEVER PUT FAKE INFORMATION IN ALWAYS USE REAL API ENDPOINTS FOR DATA**

**Always reuse components when it can be, across pages do not create new components that can be reused from other pages.**

## Tech Stack

### Backend
- Framework: FastAPI 0.115+
- Language: Python 3.11+
- Database: PostgreSQL with SQLAlchemy
- API Docs: OpenAPI/Swagger (auto-generated by FastAPI)
- Testing: pytest, pytest-asyncio
- Package Manager: pip with virtual environment

### Frontend
- Framework: [React 18 with Vite / Next.js 14 / Vue 3]
- Language: TypeScript 5.3+
- Styling: Tailwind CSS
- State: [Zustand/Redux/Pinia]
- Testing: Vitest, React Testing Library
- Package Manager: npm/pnpm

## Project Structure
```
/backend
  /nw_tracker
  /tests
  requirements.txt
  
/frontend
  /src
    /components - React components
    /pages - Page components
    /hooks - Custom hooks
    /lib - Utilities
```

## Development Commands

### Backend
- `source .venv/bin/activate` (or `venv\Scripts\activate` on Windows) - Activate virtual environment
- `python -m uvicorn nw_tracker.main:app --reload` - Start dev server
- `pytest` - Run tests
- `ruff check .` or `flake8 .` - Lint
- `mypy .` - Type check

### Frontend
- `npm run dev` - Start dev server
- `npm run build` - Production build
- `npm run test` - Run tests
- `npm run lint` - ESLint check

## Environment Setup

### Backend
1. Create virtual environment: `python -m venv venv`
2. Activate: `source venv/bin/activate`
3. Install dependencies: `pip install -r requirements.txt`

**CRITICAL: This project enforces STRICT TDD - no exceptions:**

**Write tests FIRST** - Before implementing any feature, write the test
**Run tests after EVERY change** - Use `mvn test` after each code modification
**ALL tests must pass** - Never commit with failing tests
**No feature without tests** - Every new method/class must have corresponding tests
**Test-driven refactoring** - Write tests before refactoring existing code
**Never cover up** - All test failures are important, do NOT 
  **MANDATORY: All test failures must be investigated and resolved - no exceptions:**

**Never dismiss test failures** - Every failing test indicates a real problem
**No "skip if file missing" patterns** - Tests must fail if dependencies aren't available
**Validate actual data** - Tests must verify systems return real, non-empty data
**No false positive tests** - Tests that pass with broken functionality are forbidden
**Investigate root causes** - Don't just make tests pass, fix underlying issues
**Empty data = test failure** - If repositories/services return 0 results, tests must fail


### Frontend
1. Install dependencies: `npm install`

## Code Standards

- Use async/await for all FastAPI endpoints
- Pydantic models for request/response validation
- Type hints everywhere in Python
- Functional components with TypeScript in frontend
- Use ES modules, arrow functions
- Keep components under 200 lines

## Testing Requirements

- Write unit tests for all API endpoints
- Test edge cases and error handling
- Maintain >80% test coverage
- Mock external dependencies

## Do Not

- Do not edit `/backend/migrations` directly
- Do not commit `.env` files or `venv/` directory
- Do not modify auto-generated OpenAPI schemas

## Implementation Plans

- **Budget Feature**: See `/Users/jmacgillivray/.claude/plans/soft-wobbling-diffie.md` for detailed budget tracking implementation plan